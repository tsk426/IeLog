<div class="container mt-5">
  <div class="card shadow">
    <div class="card-body">

      <h2 class="fw-bold mb-4 text-center">üè† „É¨„Éì„É•„ÉºÊäïÁ®ø„Éö„Éº„Ç∏</h2>

      <%= form_with model: @review, url: reviews_path, local: true do |f| %>

        <div class="mb-3">
          <%= f.label :title, '„Çø„Ç§„Éà„É´ ‚ÄªÂøÖÈ†à', class: 'form-label' %>
          <%= f.text_field :title, class: 'form-control', required: true %>

          <% if @review.errors[:title].any? %>
            <div class="text-danger mt-1">
          <%= @review.errors[:title].first %>
        </div>
       <% end %>
        </div>


        <div class="mb-3">
          <%= f.label :body, '„É¨„Éì„É•„ÉºÊú¨Êñá', class: 'form-label' %>
          <%= f.text_area :body, class: 'form-control', rows: 5, placeholder: '„Åì„Åì„Å´„ÅØ„Åì„Å†„Çè„Å£„Åü„Åì„Å®„ÄÅÂàù„ÇÅ„Å¶ÂÆ∂„Å•„Åè„Çä„Çí„Åô„Çã‰∫∫„Å´„Åú„Å≤‰ºù„Åà„Åü„ÅÑ„Éù„Ç§„É≥„Éà„Å™„Å©„ÄÅËá™Áî±„Å´Ë®òÂÖ•„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ' %>
        </div>

        <div class="mb-3">
          <%= f.label :housemaker, '„Éè„Ç¶„Çπ„É°„Éº„Ç´„ÉºÂêçÔºà‰ªªÊÑèÔºâ', class: 'form-label' %>
          <%= f.text_field :housemaker, class: 'form-control' %>
        </div>

        <div class="mb-3">
          <%= f.label :house_budget, 'Âª∫Áâ©‰æ°Ê†ºÔºà‰∏áÂÜÜÔºâ', class: 'form-label' %>
          <%= f.select :house_budget, options_for_select((200..10000).step(200).to_a), {}, class: 'form-control' %>
        </div>

        <div class="mb-3">
          <%= f.label :land_budget, 'ÂúüÂú∞‰æ°Ê†ºÔºà‰∏áÂÜÜÔºâ', class: 'form-label' %>
          <%= f.select :land_budget, options_for_select((200..10000).step(200).to_a), {}, class: 'form-control' %>
        </div>

        <% prefs = %w[
          ÂåóÊµ∑ÈÅì ÈùíÊ£ÆÁúå Â≤©ÊâãÁúå ÂÆÆÂüéÁúå ÁßãÁî∞Áúå Â±±ÂΩ¢Áúå Á¶èÂ≥∂Áúå Ëå®ÂüéÁúå Ê†ÉÊú®Áúå Áæ§È¶¨Áúå
          ÂüºÁéâÁúå ÂçÉËëâÁúå Êù±‰∫¨ÈÉΩ Á•ûÂ•àÂ∑ùÁúå Êñ∞ÊΩüÁúå ÂØåÂ±±Áúå Áü≥Â∑ùÁúå Á¶è‰∫ïÁúå Â±±Ê¢®Áúå Èï∑ÈáéÁúå
          Â≤êÈòúÁúå ÈùôÂ≤°Áúå ÊÑõÁü•Áúå ‰∏âÈáçÁúå ÊªãË≥ÄÁúå ‰∫¨ÈÉΩÂ∫ú Â§ßÈò™Â∫ú ÂÖµÂ∫´Áúå Â•àËâØÁúå ÂíåÊ≠åÂ±±Áúå
          È≥•ÂèñÁúå Â≥∂Ê†πÁúå Â≤°Â±±Áúå Â∫ÉÂ≥∂Áúå Â±±Âè£Áúå Âæ≥Â≥∂Áúå È¶ôÂ∑ùÁúå ÊÑõÂ™õÁúå È´òÁü•Áúå Á¶èÂ≤°Áúå
          ‰ΩêË≥ÄÁúå Èï∑Â¥éÁúå ÁÜäÊú¨Áúå Â§ßÂàÜÁúå ÂÆÆÂ¥éÁúå ÈπøÂÖêÂ≥∂Áúå Ê≤ñÁ∏ÑÁúå
        ] %>
        
        <div class="mb-3">
          <%= f.label :prefecture_name, 'ÈÉΩÈÅìÂ∫úÁúå', class: 'form-label' %>
          <%= f.select :prefecture_name,
                options_for_select(prefs, @review.prefecture_name),
                { prompt: 'ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ' },
                class: 'form-control' %>
        </div>
        
        <div class="mb-3">
          <%= f.label :city_name, 'Â∏ÇÂå∫Áî∫ÊùëÔºà‰ªªÊÑèÔºâ', class: 'form-label' %>
          <%= f.text_field :city_name, class: 'form-control', placeholder: '‰æã: Ê∏ãË∞∑Âå∫ / „Åï„ÅÑ„Åü„ÅæÂ∏ÇÊµ¶ÂíåÂå∫' %>
        </div>

        <div class="mb-3">
          <%= f.label :floor_plan, 'ÈñìÂèñ„Çä', class: 'form-label' %>
          <%= f.select :floor_plan, options_for_select((1..9).map { |n| ["#{n}LDK", "#{n}LDK"] }), {}, class: 'form-control' %>
        </div>

  <fieldset class="mb-4">
    <legend class="fs-5">üè∑Ô∏è „Çø„Ç∞ÔºàË§áÊï∞ÈÅ∏ÊäûÂèØÔºâ</legend>
      <% @tags.group_by(&:category).each do |category, tags| %>
        <div class="mb-3">
          <h6><%= category %></h6>
          <div class="row">
            <% tags.each do |tag| %>
              <div class="col-md-4 form-check">
                <%= check_box_tag "review[tag_ids][]", tag.id, false, id: "tag_#{tag.id}", class: "form-check-input" %>
                <%= label_tag "tag_#{tag.id}", tag.name, class: "form-check-label" %>
              </div>
           <% end %>
          </div>
        </div>
      <% end %>
  </fieldset>

        <div class="text-center mt-4">
          <%= f.submit '„É¨„Éì„É•„Éº„ÇíÊäïÁ®ø„Åô„Çã', class: 'btn btn-primary btn-lg' %>
        </div>

      <% end %>

    </div>
  </div>
</div>
